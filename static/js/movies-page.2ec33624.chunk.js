(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[5],{62:function(e,t,r){e.exports={"SearchForm-input":"SearchBar_SearchForm-input__1WKje","SearchForm-button":"SearchBar_SearchForm-button__3_Yft"}},63:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return v}));var n=r(16);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){Object(n.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var a=r(58);var i=r(57);function s(e){return function(e){if(Array.isArray(e))return Object(a.a)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||Object(i.a)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var u=r(55),b=r(0),l=(r(62),r(1)),j=function(e){var t=e.onSearch;return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),t(e.target.elements.pictureName.value.toLowerCase())},children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{className:"SearchForm-input",type:"text",name:"pictureName",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},h=r(56),m=r(3),f=r(6),p=r(14);var O=function(e){var t=e.onClick;return Object(l.jsx)("div",{children:Object(l.jsx)("button",{type:"button",onClick:t,children:"Load more"})})},d=r(61);function v(){var e,t=Object(m.i)().url,r=Object(m.f)(),n=Object(m.g)(),c=Object(b.useState)([]),a=Object(u.a)(c,2),i=a[0],v=a[1],y=Object(b.useState)(""),S=Object(u.a)(y,2),g=(S[0],S[1]),w=Object(b.useState)(1),x=Object(u.a)(w,2),_=x[0],F=x[1],P=null!==(e=new URLSearchParams(n.search).get("query"))&&void 0!==e?e:"",N=function(){var e=n.state;return(null===e||void 0===e?void 0:e.from)?e.from:""};Object(b.useEffect)((function(){P&&h.c(P,_).then((function(e){return 0===e.results.length?p.b.error("Sorry, but there are no movie with  ".concat(P),v([])):e.results?v(e.results):(v((function(t){return[].concat(s(t),s(e.results))})),void(_>1&&window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})))}))}),[_,P]);var k=i.length>20;return Object(l.jsxs)(d.a,{children:[Object(l.jsx)(j,{onSearch:function(e){g(e),r.push(o(o({},n),{},{search:"query=".concat(e)}))}}),i&&Object(l.jsx)(d.e,{children:i.map((function(e){var r;return Object(l.jsxs)(d.b,{children:[Object(l.jsx)(f.c,{to:{pathname:"".concat(t,"/").concat(e.id),state:{from:N()}},children:Object(l.jsx)(d.c,{src:"https://image.tmdb.org/t/p/w500/".concat(e.poster_path),alt:null!==(r=e.original_title)&&void 0!==r?r:e.name})}),Object(l.jsxs)(d.d,{children:[e.name&&e.name,e.original_title]})]},e.id)}))}),k&&Object(l.jsx)(O,{onClick:function(){F((function(e){return e+1}))}})]})}}}]);
//# sourceMappingURL=movies-page.2ec33624.chunk.js.map